<h1>My Group</h1>
<div class="challenge-groups-mygroup">
  <div class="mygroup-icon">
    <img src="assets/challenge_group_placeholder.svg" alt="">
  </div>
  <p class="mygroup-name">
    <svg width="32" height="32" viewBox="0 0 24 24">
      <path
        d="M16.24 13.65c-1.17-.52-2.61-.9-4.24-.9c-1.63 0-3.07.39-4.24.9A2.988 2.988 0 0 0 6 16.39V17c0 .55.45 1 1 1h10c.55 0 1-.45 1-1v-.61c0-1.18-.68-2.26-1.76-2.74zm-15.02.93A2.01 2.01 0 0 0 0 16.43V17c0 .55.45 1 1 1h3.5v-1.61c0-.83.23-1.61.63-2.29c-.37-.06-.74-.1-1.13-.1c-.99 0-1.93.21-2.78.58zm21.56 0A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1c.4.68.63 1.46.63 2.29V18H23c.55 0 1-.45 1-1v-.57c0-.81-.48-1.53-1.22-1.85zM12 12c1.66 0 3-1.34 3-3s-1.34-3-3-3s-3 1.34-3 3s1.34 3 3 3zM1.497 11L4 8.497L6.503 11L4 13.503zM20 9l-2.5 4h5z"/>
    </svg>
    {{selfMember.group.name}}
  </p>
  <div class="mygroup-members">
    <div class="members-item"
         *ngFor="let member of members | membersFilter: 1 : selfMember.group.id">
      <img class="members-item-avatar" [src]="getMemberAvatar(member)" alt="">
      <p class="members-item-username">{{getMemberNickname(member)}} {{isSelfMember(member) ? '(You)' : ''}}</p>
      <p class="members-item-role">{{getMemberRole(member)}}</p>
      <button class="members-item-remove-btn" *ngIf="isGroupLeader() && !isGroupLeader()"
              (click)="onRemoveMember(member)">Remove
      </button>
    </div>
  </div>
  <a class="mygroup-open-chat">Open Chat</a>
</div>
<h1>Groups / Members</h1>
<div class="challenge-box-groups-list">
  <div class="groups-list-item groups-list-item-new" [class.groups-list-item-new-enabled]="!isGroupLeader()"
       (click)="onNewGroup()" tooltip="You are already leader of a group" [tooltipEnabled]="isGroupLeader()">
    <svg width="32" height="32" viewBox="0 0 24 24">
      <path
        d="M22 9V8c0-.55-.45-1-1-1s-1 .45-1 1v1h-1c-.55 0-1 .45-1 1s.45 1 1 1h1v1c0 .55.45 1 1 1s1-.45 1-1v-1h1c.55 0 1-.45 1-1s-.45-1-1-1h-1zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4zm0 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4zm4.51-8.95C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95zm4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17z"/>
    </svg>
    <p>New Group</p>
  </div>
  <div class="groups-list-item" *ngFor="let group of groups">
    <img class="groups-list-item-icon" src="assets/challenge_group_placeholder.svg" alt="">
    <p class="groups-list-item-name">{{group.name}}</p>
    <div class="groups-list-item-members-count">
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path d="M4 13.525L6.525 11L4 8.475L1.475 11ZM17.5 13L20 9l2.5 4ZM1 18q-.425 0-.712-.288Q0 17.425 0 17v-.575q0-1.1 1.1-1.763Q2.2 14 4 14q.325 0 .613.025q.287.025.562.075q-.35.5-.513 1.075Q4.5 15.75 4.5 16.4V18Zm6 0q-.425 0-.713-.288Q6 17.425 6 17v-.6q0-1.625 1.663-2.638Q9.325 12.75 12 12.75q2.7 0 4.35 1.012Q18 14.775 18 16.4v.6q0 .425-.288.712Q17.425 18 17 18Zm12.5 0v-1.6q0-.65-.175-1.225q-.175-.575-.5-1.075q.275-.05.563-.075Q19.675 14 20 14q1.8 0 2.9.662q1.1.663 1.1 1.763V17q0 .425-.288.712Q23.425 18 23 18ZM12 12q-1.25 0-2.125-.875T9 9q0-1.25.875-2.125T12 6q1.25 0 2.125.875T15 9q0 1.25-.875 2.125T12 12Z"/></svg>
      <p>{{getGroupSize(group)}} / {{challenge.config.groupSize}}</p>
    </div>
    <button class="groups-list-item-join-btn" *ngIf="!isGroupLeaderOf(group) && !isGroupFull(group)"
            (click)="onJoinGroup(group)">Join
    </button>
    <div class="groups-list-item-members">
      <p>Members ({{countGroupMembers(group)}})</p>
      <div class="groups-list-item-members-item" *ngFor="let member of members | membersFilter: 1 : group.id">
        <img [src]="getMemberAvatar(member)" alt="">
        <div>
          <a class="groups-list-item-members-nickname" [routerLink]="['/app/user/profile', member.profile.username]">{{member.nickname}}</a>
          <p class="groups-list-item-members-role">{{member.role}}</p>
        </div>
      </div>
    </div>
  </div>
</div>
