<div class="search-bar">
    <button class="search-btn">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
            <path d="m18.9 20.3l-5.6-5.6q-.75.6-1.725.95Q10.6 16 9.5 16q-2.725 0-4.612-1.887Q3 12.225 3 9.5q0-2.725 1.888-4.613Q6.775 3 9.5 3t4.613 1.887Q16 6.775 16 9.5q0 1.1-.35 2.075q-.35.975-.95 1.725l5.625 5.625q.275.275.275.675t-.3.7q-.275.275-.7.275q-.425 0-.7-.275ZM9.5 14q1.875 0 3.188-1.312Q14 11.375 14 9.5q0-1.875-1.312-3.188Q11.375 5 9.5 5Q7.625 5 6.312 6.312Q5 7.625 5 9.5q0 1.875 1.312 3.188Q7.625 14 9.5 14Z"></path>
        </svg>
    </button>
    <input id="search" class="search" type="text" placeholder="Search" autocomplete="off" maxlength="18" #search [(ngModel)]="searchInputValue" (keyup.enter)="onSearch(search.value)">
</div>
<div class="advanced-search hidden" #advancedSearch>
    <div class="section">
        <span class="name">RECENT SEARCHES</span>
        <span class="history-empty" *ngIf="history.length === 0">No history found</span>
        <div class="search-item" *ngFor="let search of history" (click)="onSearch(search)">
            <p class="label">{{search}}</p>
            <button class="remove" (click)="removeHistorySearch(search)">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 21 21">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m15.5 15.5l-10-10zm0-10l-10 10"></path>
                </svg>
            </button>
        </div>       
    </div>
    <div class="section">
        <span class="name">RECENT TAGS</span>
        <div class="tag-add" #addTagBox>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32">
                <path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4Zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8Z"></path>
                <path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0ZM4 4v9.942L18.058 28L28 18.058L13.942 4Z"></path>
            </svg>
            <input type="text" placeholder="Add a tag" maxlength="12" #tagInput [(ngModel)]="tagInputValue" (keyup.enter)="onTagAdd(tagInput.value)">
        </div>
        <ul class="tag-list">
            <li class="tag" *ngFor="let tag of tags">
                {{tag}}
                <button (click)="onTagRemove(tag)">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="32" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-width="2" d="M20 20L4 4m16 0L4 20"></path>
                    </svg>
                </button>
            </li>
        </ul>
    </div>
</div>
<div class="backdrop hidden" #backdrop></div>